async function loadLevels() {
  const container = document.getElementById("list");
  try {
    const res = await fetch("levels.json");
    const levels = await res.json();
    container.innerHTML = "";

    levels.forEach(level => {
      // Convert YouTube link to embed
      let embedUrl = "";
      if (level.youtube) {
        embedUrl = level.youtube
          .replace("watch?v=", "embed/")
          .replace("youtu.be/", "www.youtube.com/embed/");
      }

      const holdersHTML = level.recordHolders.map(
        h => `<li>â€¢ ${h.name} â€” ${h.percent}${h.verified ? " (Verified)" : ""}</li>`
      ).join("");

      const section = document.createElement("section");
      section.className = "bg-zinc-800 p-4 rounded-2xl shadow-lg";

      section.innerHTML = `
        <div class="flex flex-col md:flex-row gap-4">
          
          <!-- Left: Video -->
          ${embedUrl ? `
            <div class="md:w-1/3 aspect-video">
              <iframe
                src="${embedUrl}"
                title="${level.title} video"
                class="w-full h-full rounded-lg"
                allowfullscreen>
              </iframe>
            </div>` : ''}

          <!-- Right: Info -->
          <div class="md:w-2/3 flex flex-col justify-between">
            <!-- Top: Rank & Title -->
            <div>
              <h2 class="text-2xl font-bold">#${level.rank} â€” ${level.title}</h2>
            </div>
            
            <!-- Middle: Creator -->
            <div class="mt-2">
              <span class="text-sm text-zinc-400">by ${level.creator}</span>
            </div>
            
            <!-- Bottom: Record Holders -->
            <div class="mt-3 border-t border-zinc-700 pt-2">
              <p class="text-sm text-zinc-400 mb-1">Record Holders:</p>
              <ul class="text-sm space-y-1">${holdersHTML}</ul>
            </div>
          </div>

        </div>
      `;

      // Append the section to the container
      container.appendChild(section);
    }); // <-- Close forEach

  } catch (err) {
    container.innerHTML = `<p class="text-center text-red-400">Failed to load levels.json ðŸ˜¢</p>`;
    console.error(err);
  }
}

  loadLevels();
  </script>
</body>
</html>
